# Miradi ya R

Mradi wa R huwezesha kazi yako kuunganishwa katika folda inayojitosheleza. Ndani ya mradi, hati zote husika, faili za data, michoro/matokeo, na historia huhifadhiwa katika folda ndogo(saidizi), na muhimu zaidi ni uwepo - *saraka ya kufanyia kazi* inayoitwa **working directory** ambayo ndiyo folda ya msingi ya mradi wa R.

## Matumizi Yanayopendekezwa

Njia ya kawaida, fanisi na isiyo na matatizo ya kutumia R ni kwa kuunganisha vipengele vitatu vilivyoanishwa hapa chini. Mradi mmoja wa kazi unaojitegemea unahifadhiwa ndani ya mradi mmoja wa R. Kila kipengele kinaelezwa katika sehemu hapa chini.

1)  **Mradi wa R**

    -   Mazingira ya kufanya kazi yanayojitosheleza yenye folda za data, hati, matokeo, n.k.\

2)  Kifurushi cha **here** cha njia husiani za faili

    -   Njia za faili zimeandikwa kuhusiana na folda ya mizizi ya mradi wa R - tazama [Ingiza na Hamisha] kwa maelezo zaidi

3)  Kifurushi cha **rio** cha kuingiza/kuhamisha

    -   `import()` na `export()` kushughulikia aina yoyote ya faili kwa ugani wake (Mfano .csv, .xlsx, .png)

<!-- ======================================================= -->

## Kutengeneza Mradi wa R

Kutengeneza Mradi wa R, Chagua "*New Project*" kutoka kwa menyu ya "*File*" ya Rstudio.

-   Endapo unataka kuunda folda mpya ya mradi, chagua *"New Directory"* na uonyeshe ni wapi unataka iundwe.
-   Endapo unataka kuunda mradi ndani ya folda iliyopo, bofya *"Existing Folder"* na uonyeshe folda gani itumike kuanziasha mradi wa R.\
-   Endapo unataka kuunda hazina ya Github, chagua chaguo la tatu *"Version Control"* na kisha *"Git"*. Tazama ukurasa kwenye [Udhibiti wa toleo na ushirikiano kwa Git na Github] kwa maelezo zaidi.

```{r out.width = "75%", fig.align = "center", echo=F}
knitr::include_graphics(here::here("images", "create_project.png"))
```

Mradi wa R utakaotengeneza utakuwa katika folda iliyo na faili yenye saraka *.Rproj*. Faili hii ni njia ya mkato na kufumgua mradi wa R na mara nyingi huwa ndiyo njia msingi utakayokuwa unatumia kufungua mradi wako. Unaweza pia kufungua mradi kwa kuchagua *"Open Project"* kutoka kwa menyu ya Faili. Vinginevyo kwenye upande wa juu kabisa wa kulia wa RStudio utaona ikoni ya mradi wa R na menyu kunjuzi ya miradi inayopatikana ya R.

Unaweza kufunga mradi wa R ama kwa kufungua mradi mpya, au kwa kufunga mradi (*File - Close Project*)

### Kubadili Miradi {.unnumbered}

Ili kubadilisha kati ya miradi, bofya ikoni ya mradi wa R na menyu kunjuzi iliyo juu kabisa kulia mwa RStudio. Utaona chaguo za Funga Mradi, Fungua Mradi, na orodha ya miradi ya hivi karibuni.

```{r out.width = "100%", fig.align = "center", echo=F}
knitr::include_graphics(here::here("images", "Rproject_dropdown.png"))
```

### Mipangilio

Inashauriwa kwa ujumla kuwa uanzishe RStudio kila wakati na "slate safi" - ambayo ni, na nafasi yako ya kazi **sio** iliyohifadhiwa kutoka kwa kikao chako cha hapo awali. Hii itamaanisha kuwa vitu na matokeo yako hayataendelea kati kikao hadi kikao (lazima uvitengeneze upya kwa kuendesha hati zako). Hii ni nzuri, kwa sababu itakulazimisha kuandika maandiko bora na kuepuka makosa katika muda wote wa kufanya kazi kwa kutumia Rstudio.

Kuweka RStudio kuwa na "slate safi" kila wakati wakati wa kuanza:


-   Chagua *"Project Options"* kutoka kwa menyu ya Zana.

-   Katika kichupo cha *"General"*, weka RStudio kuwa **si** kurejesha .RData kwenye nafasi ya kazi inapowashwa, na **si** kuhifadhi nafasi ya kazi kwa .RData wakati wa kuondoka.

### Kupanga {.unnumbered}

Ni kawaida kuwa na folda ndogo katika mradi wako. Fikiria kuwa na folda kama vile "data", "scripts", "figures", "presentations". Unaweza kuongeza folda kwa njia ya kawaida ambayo ungeongeza folda mpya kwa kompyuta yako. Vinginevyo, angalia ukurasa kwenye [Maingiliano ya Saraka] ili kujifunza jinsi ya kuunda folda mpya kwa amri za R.

### Udhibiti wa Toleo

Fikiria mfumo wa udhibiti wa toleo. Inaweza kuwa kitu rahisi kama kuwa na tarehe kwenye majina ya hati (k.m. "transmission_analysis_2020-10-03.R") na folda ya "kumbukumbu". Zingatia pia kuwa na maandishi ya kichwa cha maoni juu ya kila hati yenye maelezo, lebo, waandishi na logi ya mabadiliko.

Njia ngumu zaidi itahusisha kutumia Github au jukwaa sawa la udhibiti wa toleo. Tazama ukurasa kwenye [Udhibiti wa toleo na ushirikiano kwa Git na Github].

Kidokezo kimoja ni kwamba unaweza kutafuta kwenye mradi au folda nzima kwa kutumia zana ya "Tafuta katika Faili" (Menyu ya Kuhariri). Inaweza kutafuta na hata kubadilisha mifuatano kwenye faili nyingi.

## Mifano

Ifuatayo ni baadhi ya mifano ya kuagiza/kusafirisha nje/kuhifadhi kwa kutumia `hapa()` kutoka ndani ya mradi wa R. Soma zaidi kuhusu kutumia kifurushi cha **hapa** katika ukurasa wa [Ingiza na Hamisha].

*Kuingiza `linelist_raw.xlsx` Kutoka kwenye "data" folda kwenye mradi wako wa R*

```{r eval=F}
linelist <- import(here("data", "linelist_raw.xlsx"))
```

*Kuhamisha R `linelist` kama "my_linelist.rds" kwenda kwenye folda iitwayo "clean" ndani ya "data" folda katika mradi wako wa R.*

```{r, eval=F}
export(linelist, here("data","clean", "my_linelist.rds"))
```

*Kuhidhi mchoro ulioprintiwa hivi karibuni kama "epicurve_2021-02-15.png" ndani ya folda ya "epicurves" ndani ya folda ya "outputs" katika mradi wako wa R.*

```{r, eval=F}
ggsave(here("outputs", "epicurves", "epicurve_2021-02-15.png"))
```

<!-- ======================================================= -->

## Rasilimali

Ukurasa wa Wavuti wa RStudio unaohusu [matumizi ya RStudio](https://support.rstudio.com/hc/en-us/articles/200526207-Using-Projects)
